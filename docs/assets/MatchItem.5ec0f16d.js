import{u as ct,a as Kt,b as jt,c as Qt,f as qt,d as vl}from"./use-key-composition.7c536e3b.js";import{y as Ae,R as ml,S as hl,r as B,f as h,h as V,U as Wt,V as ie,D as gl,g as Ue,z as dt,C as Xe,W as _t,X as Te,I as me,Y as Sl,w as ue,Z as Tt,$ as yl,H as wl,N as oe,a0 as bl,a1 as pl,a2 as Cl,a3 as kl,a4 as xl,a5 as Vl,a6 as lt,a7 as ql,a8 as Le,a9 as xe,aa as _l,L as Tl,a as El,_ as Al,n as Ml,l as Ve,m as qe,t as Et,k as _e,q as Fe,v as nt,ab as ot,F as At,ac as Mt,x as zt,ad as zl}from"./index.ab4869ca.js";import{Q as Ut}from"./QChip.f74b9a82.js";import{u as Bl,b as Ll,c as Fl,d as Il,e as Ol,Q as it,a as Hl}from"./QCard.eb99e114.js";import{u as Pl,a as Rl,b as Dl,c as $l,d as Nl,e as Kl,f as jl,g as Ql,r as Bt,h as Lt,i as Wl,j as Ul,n as Ft,Q as Xl}from"./format.43d1c739.js";import{b as Yl,a as Jl,h as Zl}from"./scroll.270b929d.js";import"./answerStore.972bc172.js";import{Q as Gl}from"./QuestionToolIcon.7c4c8f1b.js";var en=Ae({name:"QField",inheritAttrs:!1,props:{...ct,tag:{type:String,default:"label"}},emits:Kt,setup(){return jt(Qt({requiredForAttr:!1,tagProp:!0}))}}),tn=Ae({name:"QItem",props:{...Bl,...ml,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:n,emit:i}){const{proxy:{$q:c}}=Ue(),S=Ll(e,c),{hasLink:o,linkAttrs:y,linkClass:v,linkTag:m,navigateOnClick:p}=hl(),s=B(null),C=B(null),q=h(()=>e.clickable===!0||o.value===!0||e.tag==="label"),_=h(()=>e.disable!==!0&&q.value===!0),z=h(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(S.value===!0?" q-item--dark":"")+(o.value===!0&&e.active===null?v.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(_.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),R=h(()=>{if(e.insetLevel===void 0)return null;const x=c.lang.rtl===!0?"Right":"Left";return{["padding"+x]:16+e.insetLevel*56+"px"}});function I(x){_.value===!0&&(C.value!==null&&(x.qKeyEvent!==!0&&document.activeElement===s.value?C.value.focus():document.activeElement===C.value&&s.value.focus()),p(x))}function $(x){if(_.value===!0&&Wt(x,[13,32])===!0){ie(x),x.qKeyEvent=!0;const A=new MouseEvent("click",x);A.qKeyEvent=!0,s.value.dispatchEvent(A)}i("keyup",x)}function N(){const x=gl(n.default,[]);return _.value===!0&&x.unshift(V("div",{class:"q-focus-helper",tabindex:-1,ref:C})),x}return()=>{const x={ref:s,class:z.value,style:R.value,role:"listitem",onClick:I,onKeyup:$};return _.value===!0?(x.tabindex=e.tabindex||"0",Object.assign(x,y.value)):q.value===!0&&(x["aria-disabled"]="true"),V(m.value,x,N())}}}),ln=Ae({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:n}){const i=h(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>V("div",{class:i.value},dt(n.default))}}),nn=Ae({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:n}){const i=h(()=>parseInt(e.lines,10)),c=h(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(i.value===1?" ellipsis":"")),S=h(()=>e.lines!==void 0&&i.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":i.value}:null);return()=>V("div",{style:S.value,class:c.value},dt(n.default))}});function on(e,n,i){let c;function S(){c!==void 0&&(_t.remove(c),c=void 0)}return Xe(()=>{e.value===!0&&S()}),{removeFromHistory:S,addToHistory(){c={condition:()=>i.value===!0,handler:n},_t.add(c)}}}let Ie=0,ut,at,He,rt=!1,It,Ot,Ht,he=null;function un(e){an(e)&&ie(e)}function an(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const n=Sl(e),i=e.shiftKey&&!e.deltaX,c=!i&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),S=i||c?e.deltaY:e.deltaX;for(let o=0;o<n.length;o++){const y=n[o];if(Zl(y,c))return c?S<0&&y.scrollTop===0?!0:S>0&&y.scrollTop+y.clientHeight===y.scrollHeight:S<0&&y.scrollLeft===0?!0:S>0&&y.scrollLeft+y.clientWidth===y.scrollWidth}return!0}function Pt(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function je(e){rt!==!0&&(rt=!0,requestAnimationFrame(()=>{rt=!1;const{height:n}=e.target,{clientHeight:i,scrollTop:c}=document.scrollingElement;(He===void 0||n!==window.innerHeight)&&(He=i-n,document.scrollingElement.scrollTop=c),c>He&&(document.scrollingElement.scrollTop-=Math.ceil((c-He)/8))}))}function Rt(e){const n=document.body,i=window.visualViewport!==void 0;if(e==="add"){const{overflowY:c,overflowX:S}=window.getComputedStyle(n);ut=Yl(window),at=Jl(window),It=n.style.left,Ot=n.style.top,Ht=window.location.href,n.style.left=`-${ut}px`,n.style.top=`-${at}px`,S!=="hidden"&&(S==="scroll"||n.scrollWidth>window.innerWidth)&&n.classList.add("q-body--force-scrollbar-x"),c!=="hidden"&&(c==="scroll"||n.scrollHeight>window.innerHeight)&&n.classList.add("q-body--force-scrollbar-y"),n.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,Te.is.ios===!0&&(i===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",je,me.passiveCapture),window.visualViewport.addEventListener("scroll",je,me.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",Pt,me.passiveCapture))}Te.is.desktop===!0&&Te.is.mac===!0&&window[`${e}EventListener`]("wheel",un,me.notPassive),e==="remove"&&(Te.is.ios===!0&&(i===!0?(window.visualViewport.removeEventListener("resize",je,me.passiveCapture),window.visualViewport.removeEventListener("scroll",je,me.passiveCapture)):window.removeEventListener("scroll",Pt,me.passiveCapture)),n.classList.remove("q-body--prevent-scroll"),n.classList.remove("q-body--force-scrollbar-x"),n.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,n.style.left=It,n.style.top=Ot,window.location.href===Ht&&window.scrollTo(ut,at),He=void 0)}function rn(e){let n="add";if(e===!0){if(Ie++,he!==null){clearTimeout(he),he=null;return}if(Ie>1)return}else{if(Ie===0||(Ie--,Ie>0))return;if(n="remove",Te.is.ios===!0&&Te.is.nativeMobile===!0){he!==null&&clearTimeout(he),he=setTimeout(()=>{Rt(n),he=null},100);return}}Rt(n)}function sn(){let e;return{preventBodyScroll(n){n!==e&&(e!==void 0||n===!0)&&(e=n,rn(n))}}}let Qe=0;const cn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Dt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var dn=Ae({name:"QDialog",inheritAttrs:!1,props:{...Pl,...Rl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Dl,"shake","click","escapeKey"],setup(e,{slots:n,emit:i,attrs:c}){const S=Ue(),o=B(null),y=B(!1),v=B(!1);let m=null,p=null,s,C;const q=h(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:_}=sn(),{registerTimeout:z}=$l(),{registerTick:R,removeTick:I}=Nl(),{transitionProps:$,transitionStyle:N}=Kl(e,()=>Dt[e.position][0],()=>Dt[e.position][1]),{showPortal:x,hidePortal:A,portalIsAccessible:ge,renderPortal:L}=jl(S,o,T,"dialog"),{hide:K}=Ql({showing:y,hideOnRouteChange:q,handleShow:Se,handleHide:le,processOnMount:!0}),{addToHistory:Y,removeFromHistory:ae}=on(y,K,q),J=h(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${cn[e.position]}`+(v.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),Z=h(()=>y.value===!0&&e.seamless!==!0),D=h(()=>e.autoClose===!0?{onClick:l}:{}),re=h(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${Z.value===!0?"modal":"seamless"}`,c.class]);ue(()=>e.maximized,d=>{y.value===!0&&te(d)}),ue(Z,d=>{_(d),d===!0?(Wl(w),Ul(G)):(Bt(w),Lt(G))});function Se(d){Y(),p=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,te(e.maximized),x(),v.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),R(P)):I(),z(()=>{if(S.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:f,bottom:k}=document.activeElement.getBoundingClientRect(),{innerHeight:F}=window,b=window.visualViewport!==void 0?window.visualViewport.height:F;f>0&&k>b/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-b,k>=F?1/0:Math.ceil(document.scrollingElement.scrollTop+k-b/2))),document.activeElement.scrollIntoView()}C=!0,o.value.click(),C=!1}x(!0),v.value=!1,i("show",d)},e.transitionDuration)}function le(d){I(),ae(),ee(!0),v.value=!0,A(),p!==null&&(((d&&d.type.indexOf("key")===0?p.closest('[tabindex]:not([tabindex^="-"])'):void 0)||p).focus(),p=null),z(()=>{A(!0),v.value=!1,i("hide",d)},e.transitionDuration)}function P(d){Fl(()=>{let f=o.value;f===null||f.contains(document.activeElement)===!0||(f=(d!==""?f.querySelector(d):null)||f.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||f.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||f.querySelector("[autofocus], [data-autofocus]")||f,f.focus({preventScroll:!0}))})}function se(d){d&&typeof d.focus=="function"?d.focus({preventScroll:!0}):P(),i("shake");const f=o.value;f!==null&&(f.classList.remove("q-animate--scale"),f.classList.add("q-animate--scale"),m!==null&&clearTimeout(m),m=setTimeout(()=>{m=null,o.value!==null&&(f.classList.remove("q-animate--scale"),P())},170))}function G(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&se():(i("escapeKey"),K()))}function ee(d){m!==null&&(clearTimeout(m),m=null),(d===!0||y.value===!0)&&(te(!1),e.seamless!==!0&&(_(!1),Bt(w),Lt(G))),d!==!0&&(p=null)}function te(d){d===!0?s!==!0&&(Qe<1&&document.body.classList.add("q-body--dialog"),Qe++,s=!0):s===!0&&(Qe<2&&document.body.classList.remove("q-body--dialog"),Qe--,s=!1)}function l(d){C!==!0&&(K(d),i("click",d))}function r(d){e.persistent!==!0&&e.noBackdropDismiss!==!0?K(d):e.noShake!==!0&&se()}function w(d){e.allowFocusOutside!==!0&&ge.value===!0&&yl(o.value,d.target)!==!0&&P('[tabindex]:not([tabindex="-1"])')}Object.assign(S.proxy,{focus:P,shake:se,__updateRefocusTarget(d){p=d||null}}),Xe(ee);function T(){return V("div",{role:"dialog","aria-modal":Z.value===!0?"true":"false",...c,class:re.value},[V(Tt,{name:"q-transition--fade",appear:!0},()=>Z.value===!0?V("div",{class:"q-dialog__backdrop fixed-full",style:N.value,"aria-hidden":"true",tabindex:-1,onClick:r}):null),V(Tt,$.value,()=>y.value===!0?V("div",{ref:o,class:J.value,style:N.value,tabindex:-1,...D.value},dt(n.default)):null)])}return L}});let We=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const n=document.createElement("div");Object.assign(n.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(n),e.scrollLeft=-1e3,We=e.scrollLeft>=0,e.remove()}const W=1e3,fn=["start","center","end","start-force","center-force","end-force"],Xt=Array.prototype.filter,vn=window.getComputedStyle(document.body).overflowAnchor===void 0?wl:function(e,n){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const i=e.children||[];Xt.call(i,S=>S.dataset&&S.dataset.qVsAnchor!==void 0).forEach(S=>{delete S.dataset.qVsAnchor});const c=i[n];c&&c.dataset&&(c.dataset.qVsAnchor="")}))};function Ee(e,n){return e+n}function st(e,n,i,c,S,o,y,v){const m=e===window?document.scrollingElement||document.documentElement:e,p=S===!0?"offsetWidth":"offsetHeight",s={scrollStart:0,scrollViewSize:-y-v,scrollMaxSize:0,offsetStart:-y,offsetEnd:-v};if(S===!0?(e===window?(s.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,s.scrollViewSize+=document.documentElement.clientWidth):(s.scrollStart=m.scrollLeft,s.scrollViewSize+=m.clientWidth),s.scrollMaxSize=m.scrollWidth,o===!0&&(s.scrollStart=(We===!0?s.scrollMaxSize-s.scrollViewSize:0)-s.scrollStart)):(e===window?(s.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,s.scrollViewSize+=document.documentElement.clientHeight):(s.scrollStart=m.scrollTop,s.scrollViewSize+=m.clientHeight),s.scrollMaxSize=m.scrollHeight),i!==null)for(let C=i.previousElementSibling;C!==null;C=C.previousElementSibling)C.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetStart+=C[p]);if(c!==null)for(let C=c.nextElementSibling;C!==null;C=C.nextElementSibling)C.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetEnd+=C[p]);if(n!==e){const C=m.getBoundingClientRect(),q=n.getBoundingClientRect();S===!0?(s.offsetStart+=q.left-C.left,s.offsetEnd-=q.width):(s.offsetStart+=q.top-C.top,s.offsetEnd-=q.height),e!==window&&(s.offsetStart+=s.scrollStart),s.offsetEnd+=s.scrollMaxSize-s.offsetStart}return s}function $t(e,n,i,c){n==="end"&&(n=(e===window?document.body:e)[i===!0?"scrollWidth":"scrollHeight"]),e===window?i===!0?(c===!0&&(n=(We===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-n),window.scrollTo(n,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,n):i===!0?(c===!0&&(n=(We===!0?e.scrollWidth-e.offsetWidth:0)-n),e.scrollLeft=n):e.scrollTop=n}function Oe(e,n,i,c){if(i>=c)return 0;const S=n.length,o=Math.floor(i/W),y=Math.floor((c-1)/W)+1;let v=e.slice(o,y).reduce(Ee,0);return i%W!==0&&(v-=n.slice(o*W,i).reduce(Ee,0)),c%W!==0&&c!==S&&(v-=n.slice(c,y*W).reduce(Ee,0)),v}const Yt={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},zn=Object.keys(Yt),mn={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Yt};function hn({virtualScrollLength:e,getVirtualScrollTarget:n,getVirtualScrollEl:i,virtualScrollItemSizeComputed:c}){const S=Ue(),{props:o,emit:y,proxy:v}=S,{$q:m}=v;let p,s,C,q=[],_;const z=B(0),R=B(0),I=B({}),$=B(null),N=B(null),x=B(null),A=B({from:0,to:0}),ge=h(()=>o.tableColspan!==void 0?o.tableColspan:100);c===void 0&&(c=h(()=>o.virtualScrollItemSize));const L=h(()=>c.value+";"+o.virtualScrollHorizontal),K=h(()=>L.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);ue(K,()=>{P()}),ue(L,Y);function Y(){le(s,!0)}function ae(l){le(l===void 0?s:l)}function J(l,r){const w=n();if(w==null||w.nodeType===8)return;const T=st(w,i(),$.value,N.value,o.virtualScrollHorizontal,m.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);C!==T.scrollViewSize&&P(T.scrollViewSize),D(w,T,Math.min(e.value-1,Math.max(0,parseInt(l,10)||0)),0,fn.indexOf(r)>-1?r:s>-1&&l>s?"end":"start")}function Z(){const l=n();if(l==null||l.nodeType===8)return;const r=st(l,i(),$.value,N.value,o.virtualScrollHorizontal,m.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),w=e.value-1,T=r.scrollMaxSize-r.offsetStart-r.offsetEnd-R.value;if(p===r.scrollStart)return;if(r.scrollMaxSize<=0){D(l,r,0,0);return}C!==r.scrollViewSize&&P(r.scrollViewSize),re(A.value.from);const d=Math.floor(r.scrollMaxSize-Math.max(r.scrollViewSize,r.offsetEnd)-Math.min(_[w],r.scrollViewSize/2));if(d>0&&Math.ceil(r.scrollStart)>=d){D(l,r,w,r.scrollMaxSize-r.offsetEnd-q.reduce(Ee,0));return}let f=0,k=r.scrollStart-r.offsetStart,F=k;if(k<=T&&k+r.scrollViewSize>=z.value)k-=z.value,f=A.value.from,F=k;else for(let b=0;k>=q[b]&&f<w;b++)k-=q[b],f+=W;for(;k>0&&f<w;)k-=_[f],k>-r.scrollViewSize?(f++,F=k):F=_[f]+k;D(l,r,f,F)}function D(l,r,w,T,d){const f=typeof d=="string"&&d.indexOf("-force")>-1,k=f===!0?d.replace("-force",""):d,F=k!==void 0?k:"start";let b=Math.max(0,w-I.value[F]),j=b+I.value.total;j>e.value&&(j=e.value,b=Math.max(0,j-I.value.total)),p=r.scrollStart;const ne=b!==A.value.from||j!==A.value.to;if(ne===!1&&k===void 0){G(w);return}const{activeElement:Pe}=document,U=x.value;ne===!0&&U!==null&&U!==Pe&&U.contains(Pe)===!0&&(U.addEventListener("focusout",Se),setTimeout(()=>{U!==null&&U.removeEventListener("focusout",Se)})),vn(U,w-b);const Re=k!==void 0?_.slice(b,w).reduce(Ee,0):0;if(ne===!0){const ce=j>=A.value.from&&b<=A.value.to?A.value.to:j;A.value={from:b,to:ce},z.value=Oe(q,_,0,b),R.value=Oe(q,_,j,e.value),requestAnimationFrame(()=>{A.value.to!==j&&p===r.scrollStart&&(A.value={from:A.value.from,to:j},R.value=Oe(q,_,j,e.value))})}requestAnimationFrame(()=>{if(p!==r.scrollStart)return;ne===!0&&re(b);const ce=_.slice(b,w).reduce(Ee,0),de=ce+r.offsetStart+z.value,De=de+_[w];let Me=de+T;if(k!==void 0){const Ye=ce-Re,ze=r.scrollStart+Ye;Me=f!==!0&&ze<de&&De<ze+r.scrollViewSize?ze:k==="end"?De-r.scrollViewSize:de-(k==="start"?0:Math.round((r.scrollViewSize-_[w])/2))}p=Me,$t(l,Me,o.virtualScrollHorizontal,m.lang.rtl),G(w)})}function re(l){const r=x.value;if(r){const w=Xt.call(r.children,b=>b.classList&&b.classList.contains("q-virtual-scroll--skip")===!1),T=w.length,d=o.virtualScrollHorizontal===!0?b=>b.getBoundingClientRect().width:b=>b.offsetHeight;let f=l,k,F;for(let b=0;b<T;){for(k=d(w[b]),b++;b<T&&w[b].classList.contains("q-virtual-scroll--with-prev")===!0;)k+=d(w[b]),b++;F=k-_[f],F!==0&&(_[f]+=F,q[Math.floor(f/W)]+=F),f++}}}function Se(){x.value!==null&&x.value!==void 0&&x.value.focus()}function le(l,r){const w=1*c.value;(r===!0||Array.isArray(_)===!1)&&(_=[]);const T=_.length;_.length=e.value;for(let f=e.value-1;f>=T;f--)_[f]=w;const d=Math.floor((e.value-1)/W);q=[];for(let f=0;f<=d;f++){let k=0;const F=Math.min((f+1)*W,e.value);for(let b=f*W;b<F;b++)k+=_[b];q.push(k)}s=-1,p=void 0,z.value=Oe(q,_,0,A.value.from),R.value=Oe(q,_,A.value.to,e.value),l>=0?(re(A.value.from),oe(()=>{J(l)})):ee()}function P(l){if(l===void 0&&typeof window!="undefined"){const k=n();k!=null&&k.nodeType!==8&&(l=st(k,i(),$.value,N.value,o.virtualScrollHorizontal,m.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}C=l;const r=parseFloat(o.virtualScrollSliceRatioBefore)||0,w=parseFloat(o.virtualScrollSliceRatioAfter)||0,T=1+r+w,d=l===void 0||l<=0?1:Math.ceil(l/c.value),f=Math.max(1,d,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/T));I.value={total:Math.ceil(f*T),start:Math.ceil(f*r),center:Math.ceil(f*(.5+r)),end:Math.ceil(f*(1+r)),view:d}}function se(l,r){const w=o.virtualScrollHorizontal===!0?"width":"height",T={["--q-virtual-scroll-item-"+w]:c.value+"px"};return[l==="tbody"?V(l,{class:"q-virtual-scroll__padding",key:"before",ref:$},[V("tr",[V("td",{style:{[w]:`${z.value}px`,...T},colspan:ge.value})])]):V(l,{class:"q-virtual-scroll__padding",key:"before",ref:$,style:{[w]:`${z.value}px`,...T}}),V(l,{class:"q-virtual-scroll__content",key:"content",ref:x,tabindex:-1},r.flat()),l==="tbody"?V(l,{class:"q-virtual-scroll__padding",key:"after",ref:N},[V("tr",[V("td",{style:{[w]:`${R.value}px`,...T},colspan:ge.value})])]):V(l,{class:"q-virtual-scroll__padding",key:"after",ref:N,style:{[w]:`${R.value}px`,...T}})]}function G(l){s!==l&&(o.onVirtualScroll!==void 0&&y("virtualScroll",{index:l,from:A.value.from,to:A.value.to-1,direction:l<s?"decrease":"increase",ref:v}),s=l)}P();const ee=bl(Z,m.platform.is.ios===!0?120:35);pl(()=>{P()});let te=!1;return Cl(()=>{te=!0}),kl(()=>{if(te!==!0)return;const l=n();p!==void 0&&l!==void 0&&l!==null&&l.nodeType!==8?$t(l,p,o.virtualScrollHorizontal,m.lang.rtl):J(s)}),Xe(()=>{ee.cancel()}),Object.assign(v,{scrollTo:J,reset:Y,refresh:ae}),{virtualScrollSliceRange:A,virtualScrollSliceSizeComputed:I,setVirtualScrollSize:P,onVirtualScrollEvt:ee,localResetVirtualScroll:le,padVirtualScroll:se,scrollTo:J,reset:Y,refresh:ae}}const Nt=e=>["add","add-unique","toggle"].includes(e),gn=".*+?^${}()|[]\\",Sn=Object.keys(ct);var Bn=Ae({name:"QSelect",inheritAttrs:!1,props:{...mn,...Il,...ct,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Nt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Kt,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:n,emit:i}){const{proxy:c}=Ue(),{$q:S}=c,o=B(!1),y=B(!1),v=B(-1),m=B(""),p=B(!1),s=B(!1);let C=null,q=null,_,z,R,I=null,$,N,x,A;const ge=B(null),L=B(null),K=B(null),Y=B(null),ae=B(null),J=Ol(e),Z=vl(pt),D=h(()=>Array.isArray(e.options)?e.options.length:0),re=h(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Se,virtualScrollSliceSizeComputed:le,localResetVirtualScroll:P,padVirtualScroll:se,onVirtualScrollEvt:G,scrollTo:ee,setVirtualScrollSize:te}=hn({virtualScrollLength:D,getVirtualScrollTarget:el,getVirtualScrollEl:wt,virtualScrollItemSizeComputed:re}),l=Qt(),r=h(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,a=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const u=e.mapOptions===!0&&_!==void 0?_:[],g=a.map(M=>Gt(M,u));return e.modelValue===null&&t===!0?g.filter(M=>M!==null):g}return a}),w=h(()=>{const t={};return Sn.forEach(a=>{const u=e[a];u!==void 0&&(t[a]=u)}),t}),T=h(()=>e.optionsDark===null?l.isDark.value:e.optionsDark),d=h(()=>qt(r.value)),f=h(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||r.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),k=h(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),F=h(()=>D.value===0),b=h(()=>r.value.map(t=>Q.value(t)).join(", ")),j=h(()=>e.displayValue!==void 0?e.displayValue:b.value),ne=h(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Pe=h(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||r.value.some(ne.value))),U=h(()=>l.focused.value===!0?e.tabindex:-1),Re=h(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${l.targetUid.value}_lb`};return v.value>=0&&(t["aria-activedescendant"]=`${l.targetUid.value}_${v.value}`),t}),ce=h(()=>({id:`${l.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),de=h(()=>r.value.map((t,a)=>({index:a,opt:t,html:ne.value(t),selected:!0,removeAtIndex:Zt,toggleOption:fe,tabindex:U.value}))),De=h(()=>{if(D.value===0)return[];const{from:t,to:a}=Se.value;return e.options.slice(t,a).map((u,g)=>{const M=ye.value(u)===!0,E=Ge(u)===!0,H=t+g,O={clickable:!0,active:E,activeClass:ze.value,manualFocus:!0,focused:!1,disable:M,tabindex:-1,dense:e.optionsDense,dark:T.value,role:"option","aria-selected":E===!0?"true":"false",id:`${l.targetUid.value}_${H}`,onClick:()=>{fe(u)}};return M!==!0&&(v.value===H&&(O.focused=!0),S.platform.is.desktop===!0&&(O.onMousemove=()=>{o.value===!0&&we(H)})),{index:H,opt:u,html:ne.value(u),label:Q.value(u),selected:O.active,focused:O.focused,toggleOption:fe,setOptionIndex:we,itemProps:O}})}),Me=h(()=>e.dropdownIcon!==void 0?e.dropdownIcon:S.iconSet.arrow.dropdown),Ye=h(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ze=h(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),X=h(()=>Ze(e.optionValue,"value")),Q=h(()=>Ze(e.optionLabel,"label")),ye=h(()=>Ze(e.optionDisable,"disable")),$e=h(()=>r.value.map(t=>X.value(t))),Jt=h(()=>{const t={onInput:pt,onChange:Z,onKeydown:yt,onKeyup:gt,onKeypress:St,onFocus:mt,onClick(a){z===!0&&xe(a)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=Z,t});ue(r,t=>{_=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&l.innerLoading.value!==!0&&(y.value!==!0&&o.value!==!0||d.value!==!0)&&(R!==!0&&ke(),(y.value===!0||o.value===!0)&&be(""))},{immediate:!0}),ue(()=>e.fillInput,ke),ue(o,et),ue(D,fl);function ft(t){return e.emitValue===!0?X.value(t):t}function Je(t){if(t>-1&&t<r.value.length)if(e.multiple===!0){const a=e.modelValue.slice();i("remove",{index:t,value:a.splice(t,1)[0]}),i("update:modelValue",a)}else i("update:modelValue",null)}function Zt(t){Je(t),l.focus()}function vt(t,a){const u=ft(t);if(e.multiple!==!0){e.fillInput===!0&&Be(Q.value(t),!0,!0),i("update:modelValue",u);return}if(r.value.length===0){i("add",{index:0,value:u}),i("update:modelValue",e.multiple===!0?[u]:u);return}if(a===!0&&Ge(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const g=e.modelValue.slice();i("add",{index:g.length,value:u}),g.push(u),i("update:modelValue",g)}function fe(t,a){if(l.editable.value!==!0||t===void 0||ye.value(t)===!0)return;const u=X.value(t);if(e.multiple!==!0){a!==!0&&(Be(e.fillInput===!0?Q.value(t):"",!0,!0),ve()),L.value!==null&&L.value.focus(),(r.value.length===0||Le(X.value(r.value[0]),u)!==!0)&&i("update:modelValue",e.emitValue===!0?u:t);return}if((z!==!0||p.value===!0)&&l.focus(),mt(),r.value.length===0){const E=e.emitValue===!0?u:t;i("add",{index:0,value:E}),i("update:modelValue",e.multiple===!0?[E]:E);return}const g=e.modelValue.slice(),M=$e.value.findIndex(E=>Le(E,u));if(M>-1)i("remove",{index:M,value:g.splice(M,1)[0]});else{if(e.maxValues!==void 0&&g.length>=e.maxValues)return;const E=e.emitValue===!0?u:t;i("add",{index:g.length,value:E}),g.push(E)}i("update:modelValue",g)}function we(t){if(S.platform.is.desktop!==!0)return;const a=t>-1&&t<D.value?t:-1;v.value!==a&&(v.value=a)}function Ne(t=1,a){if(o.value===!0){let u=v.value;do u=Ft(u+t,-1,D.value-1);while(u!==-1&&u!==v.value&&ye.value(e.options[u])===!0);v.value!==u&&(we(u),ee(u),a!==!0&&e.useInput===!0&&e.fillInput===!0&&Ke(u>=0?Q.value(e.options[u]):$,!0))}}function Gt(t,a){const u=g=>Le(X.value(g),t);return e.options.find(u)||a.find(u)||t}function Ze(t,a){const u=t!==void 0?t:a;return typeof u=="function"?u:g=>g!==null&&typeof g=="object"&&u in g?g[u]:g}function Ge(t){const a=X.value(t);return $e.value.find(u=>Le(u,a))!==void 0}function mt(t){e.useInput===!0&&L.value!==null&&(t===void 0||L.value===t.target&&t.target.value===b.value)&&L.value.select()}function ht(t){Wt(t,27)===!0&&o.value===!0&&(xe(t),ve(),ke()),i("keyup",t)}function gt(t){const{value:a}=t.target;if(t.keyCode!==void 0){ht(t);return}if(t.target.value="",C!==null&&(clearTimeout(C),C=null),q!==null&&(clearTimeout(q),q=null),ke(),typeof a=="string"&&a.length!==0){const u=a.toLocaleLowerCase(),g=E=>{const H=e.options.find(O=>E.value(O).toLocaleLowerCase()===u);return H===void 0?!1:(r.value.indexOf(H)===-1?fe(H):ve(),!0)},M=E=>{g(X)!==!0&&(g(Q)===!0||E===!0||be(a,!0,()=>M(!0)))};M()}else l.clearValue(t)}function St(t){i("keypress",t)}function yt(t){if(i("keydown",t),_l(t)===!0)return;const a=m.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),u=t.shiftKey!==!0&&e.multiple!==!0&&(v.value>-1||a===!0);if(t.keyCode===27){lt(t);return}if(t.keyCode===9&&u===!1){pe();return}if(t.target===void 0||t.target.id!==l.targetUid.value||l.editable.value!==!0)return;if(t.keyCode===40&&l.innerLoading.value!==!0&&o.value===!1){ie(t),Ce();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&m.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Je(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&i("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof m.value!="string"||m.value.length===0)&&(ie(t),v.value=-1,Ne(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&le.value!==void 0&&(ie(t),v.value=Math.max(-1,Math.min(D.value,v.value+(t.keyCode===33?-1:1)*le.value.view)),Ne(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ie(t),Ne(t.keyCode===38?-1:1,e.multiple));const g=D.value;if((x===void 0||A<Date.now())&&(x=""),g>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||x.length!==0)){o.value!==!0&&Ce(t);const M=t.key.toLocaleLowerCase(),E=x.length===1&&x[0]===M;A=Date.now()+1500,E===!1&&(ie(t),x+=M);const H=new RegExp("^"+x.split("").map(tt=>gn.indexOf(tt)>-1?"\\"+tt:tt).join(".*"),"i");let O=v.value;if(E===!0||O<0||H.test(Q.value(e.options[O]))!==!0)do O=Ft(O+1,-1,g-1);while(O!==v.value&&(ye.value(e.options[O])===!0||H.test(Q.value(e.options[O]))!==!0));v.value!==O&&oe(()=>{we(O),ee(O),O>=0&&e.useInput===!0&&e.fillInput===!0&&Ke(Q.value(e.options[O]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||x!=="")&&(t.keyCode!==9||u===!1))){if(t.keyCode!==9&&ie(t),v.value>-1&&v.value<g){fe(e.options[v.value]);return}if(a===!0){const M=(E,H)=>{if(H){if(Nt(H)!==!0)return}else H=e.newValueMode;if(Be("",e.multiple!==!0,!0),E==null)return;(H==="toggle"?fe:vt)(E,H==="add-unique"),e.multiple!==!0&&(L.value!==null&&L.value.focus(),ve())};if(e.onNewValue!==void 0?i("newValue",m.value,M):M(m.value),e.multiple!==!0)return}o.value===!0?pe():l.innerLoading.value!==!0&&Ce()}}function wt(){return z===!0?ae.value:K.value!==null&&K.value.contentEl!==null?K.value.contentEl:void 0}function el(){return wt()}function tl(){return e.hideSelected===!0?[]:n["selected-item"]!==void 0?de.value.map(t=>n["selected-item"](t)).slice():n.selected!==void 0?[].concat(n.selected()):e.useChips===!0?de.value.map((t,a)=>V(Ut,{key:"option-"+a,removable:l.editable.value===!0&&ye.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:U.value,onRemove(){t.removeAtIndex(a)}},()=>V("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:Q.value(t.opt)}))):[V("span",{[Pe.value===!0?"innerHTML":"textContent"]:j.value})]}function bt(){if(F.value===!0)return n["no-option"]!==void 0?n["no-option"]({inputValue:m.value}):void 0;const t=n.option!==void 0?n.option:u=>V(tn,{key:u.index,...u.itemProps},()=>V(ln,()=>V(nn,()=>V("span",{[u.html===!0?"innerHTML":"textContent"]:u.label}))));let a=se("div",De.value.map(t));return n["before-options"]!==void 0&&(a=n["before-options"]().concat(a)),Tl(n["after-options"],a)}function ll(t,a){const u=a===!0?{...Re.value,...l.splitAttrs.attributes.value}:void 0,g={ref:a===!0?L:void 0,key:"i_t",class:f.value,style:e.inputStyle,value:m.value!==void 0?m.value:"",type:"search",...u,id:a===!0?l.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Jt.value};return t!==!0&&z===!0&&(Array.isArray(g.class)===!0?g.class=[...g.class,"no-pointer-events"]:g.class+=" no-pointer-events"),V("input",g)}function pt(t){C!==null&&(clearTimeout(C),C=null),q!==null&&(clearTimeout(q),q=null),!(t&&t.target&&t.target.qComposing===!0)&&(Ke(t.target.value||""),R=!0,$=m.value,l.focused.value!==!0&&(z!==!0||p.value===!0)&&l.focus(),e.onFilter!==void 0&&(C=setTimeout(()=>{C=null,be(m.value)},e.inputDebounce)))}function Ke(t,a){m.value!==t&&(m.value=t,a===!0||e.inputDebounce===0||e.inputDebounce==="0"?i("inputValue",t):q=setTimeout(()=>{q=null,i("inputValue",t)},e.inputDebounce))}function Be(t,a,u){R=u!==!0,e.useInput===!0&&(Ke(t,!0),(a===!0||u!==!0)&&($=t),a!==!0&&be(t))}function be(t,a,u){if(e.onFilter===void 0||a!==!0&&l.focused.value!==!0)return;l.innerLoading.value===!0?i("filterAbort"):(l.innerLoading.value=!0,s.value=!0),t!==""&&e.multiple!==!0&&r.value.length!==0&&R!==!0&&t===Q.value(r.value[0])&&(t="");const g=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);I!==null&&clearTimeout(I),I=g,i("filter",t,(M,E)=>{(a===!0||l.focused.value===!0)&&I===g&&(clearTimeout(I),typeof M=="function"&&M(),s.value=!1,oe(()=>{l.innerLoading.value=!1,l.editable.value===!0&&(a===!0?o.value===!0&&ve():o.value===!0?et(!0):o.value=!0),typeof E=="function"&&oe(()=>{E(c)}),typeof u=="function"&&oe(()=>{u(c)})}))},()=>{l.focused.value===!0&&I===g&&(clearTimeout(I),l.innerLoading.value=!1,s.value=!1),o.value===!0&&(o.value=!1)})}function nl(){return V(Xl,{ref:K,class:k.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&F.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:T.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Ye.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ce.value,onScrollPassive:G,onBeforeShow:kt,onBeforeHide:ol,onShow:il},bt)}function ol(t){xt(t),pe()}function il(){te()}function ul(t){xe(t),L.value!==null&&L.value.focus(),p.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function al(t){xe(t),oe(()=>{p.value=!1})}function rl(){const t=[V(en,{class:`col-auto ${l.fieldClass.value}`,...w.value,for:l.targetUid.value,dark:T.value,square:!0,loading:s.value,itemAligned:!1,filled:!0,stackLabel:m.value.length!==0,...l.splitAttrs.listeners.value,onFocus:ul,onBlur:al},{...n,rawControl:()=>l.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&t.push(V("div",{ref:ae,class:k.value+" scroll",style:e.popupContentStyle,...ce.value,onClick:lt,onScrollPassive:G},bt())),V(dn,{ref:Y,modelValue:y.value,position:e.useInput===!0?"top":void 0,transitionShow:N,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:kt,onBeforeHide:sl,onHide:cl,onShow:dl},()=>V("div",{class:"q-select__dialog"+(T.value===!0?" q-select__dialog--dark q-dark":"")+(p.value===!0?" q-select__dialog--focused":"")},t))}function sl(t){xt(t),Y.value!==null&&Y.value.__updateRefocusTarget(l.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),l.focused.value=!1}function cl(t){ve(),l.focused.value===!1&&i("blur",t),ke()}function dl(){const t=document.activeElement;(t===null||t.id!==l.targetUid.value)&&L.value!==null&&L.value!==t&&L.value.focus(),te()}function pe(){y.value!==!0&&(v.value=-1,o.value===!0&&(o.value=!1),l.focused.value===!1&&(I!==null&&(clearTimeout(I),I=null),l.innerLoading.value===!0&&(i("filterAbort"),l.innerLoading.value=!1,s.value=!1)))}function Ce(t){l.editable.value===!0&&(z===!0?(l.onControlFocusin(t),y.value=!0,oe(()=>{l.focus()})):l.focus(),e.onFilter!==void 0?be(m.value):(F.value!==!0||n["no-option"]!==void 0)&&(o.value=!0))}function ve(){y.value=!1,pe()}function ke(){e.useInput===!0&&Be(e.multiple!==!0&&e.fillInput===!0&&r.value.length!==0&&Q.value(r.value[0])||"",!0,!0)}function et(t){let a=-1;if(t===!0){if(r.value.length!==0){const u=X.value(r.value[0]);a=e.options.findIndex(g=>Le(X.value(g),u))}P(a)}we(a)}function fl(t,a){o.value===!0&&l.innerLoading.value===!1&&(P(-1,!0),oe(()=>{o.value===!0&&l.innerLoading.value===!1&&(t>a?P():et(!0))}))}function Ct(){y.value===!1&&K.value!==null&&K.value.updatePosition()}function kt(t){t!==void 0&&xe(t),i("popupShow",t),l.hasPopupOpen=!0,l.onControlFocusin(t)}function xt(t){t!==void 0&&xe(t),i("popupHide",t),l.hasPopupOpen=!1,l.onControlFocusout(t)}function Vt(){z=S.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?n["no-option"]!==void 0||e.onFilter!==void 0||F.value===!1:!0),N=S.platform.is.ios===!0&&z===!0&&e.useInput===!0?"fade":e.transitionShow}return xl(Vt),Vl(Ct),Vt(),Xe(()=>{C!==null&&clearTimeout(C),q!==null&&clearTimeout(q)}),Object.assign(c,{showPopup:Ce,hidePopup:ve,removeAtIndex:Je,add:vt,toggleOption:fe,getOptionIndex:()=>v.value,setOptionIndex:we,moveOptionSelection:Ne,filter:be,updateMenuPosition:Ct,updateInputValue:Be,isOptionSelected:Ge,getEmittingOptionValue:ft,isOptionDisabled:(...t)=>ye.value.apply(null,t)===!0,getOptionValue:(...t)=>X.value.apply(null,t),getOptionLabel:(...t)=>Q.value.apply(null,t)}),Object.assign(l,{innerValue:r,fieldClass:h(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:ge,targetRef:L,hasValue:d,showPopup:Ce,floatingLabel:h(()=>e.hideSelected!==!0&&d.value===!0||typeof m.value=="number"||m.value.length!==0||qt(e.displayValue)),getControlChild:()=>{if(l.editable.value!==!1&&(y.value===!0||F.value!==!0||n["no-option"]!==void 0))return z===!0?rl():nl();l.hasPopupOpen===!0&&(l.hasPopupOpen=!1)},controlEvents:{onFocusin(t){l.onControlFocusin(t)},onFocusout(t){l.onControlFocusout(t,()=>{ke(),pe()})},onClick(t){if(lt(t),z!==!0&&o.value===!0){pe(),L.value!==null&&L.value.focus();return}Ce(t)}},getControl:t=>{const a=tl(),u=t===!0||y.value!==!0||z!==!0;if(e.useInput===!0)a.push(ll(t,u));else if(l.editable.value===!0){const M=u===!0?Re.value:void 0;a.push(V("input",{ref:u===!0?L:void 0,key:"d_t",class:"q-select__focus-target",id:u===!0?l.targetUid.value:void 0,value:j.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...M,onKeydown:yt,onKeyup:ht,onKeypress:St})),u===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&a.push(V("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:gt}))}if(J.value!==void 0&&e.disable!==!0&&$e.value.length!==0){const M=$e.value.map(E=>V("option",{value:E,selected:!0}));a.push(V("select",{class:"hidden",name:J.value,multiple:e.multiple},M))}const g=e.useInput===!0||u!==!0?void 0:l.splitAttrs.attributes.value;return V("div",{class:"q-field__native row items-center",...g,...l.splitAttrs.listeners.value},a)},getInnerAppend:()=>e.loading!==!0&&s.value!==!0&&e.hideDropdownIcon!==!0?[V(ql,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:Me.value})]:null}),jt(l)}});const yn=El({name:"MatchItem",props:["isMatch","match","tools","tool_id","question_number","question_id"],components:{QuestionToolIcon:Gl},emits:["showTool"],setup(e,{emit:n}){return{props:e,findMatchingTools:(S,o)=>{const y=[];return e.tools.forEach(v=>{let m=v.good_compatible.find(p=>p.question_id===S&&p.answer_id===o);if(m&&v.id!==e.tool_id){let p=JSON.parse(JSON.stringify(v));p.match=m,y.push(p)}}),y},showTool:S=>{n("showTool",S)}}}}),wn={key:0},bn={class:"text-h6"},pn=["innerHTML"],Cn={key:0,class:"q-ma-sm"};function kn(e,n,i,c,S,o){const y=Ml("question-tool-icon");return e.match.hasOwnProperty("matches")&&e.match.matches.length>0?(Ve(),qe("div",wn,[Et("div",bn,[_e(Ut,{color:"primary","text-color":"white"},{default:Fe(()=>[nt(ot(e.props.question_number+1),1)]),_:1}),nt(ot(e.match.question_text),1)]),(Ve(!0),qe(At,null,Mt(e.match.matches,(v,m)=>(Ve(),qe("div",{key:m},[_e(Hl,{class:"q-my-md"},{default:Fe(()=>[_e(it,{class:zl(["text-weight-bold text-white",e.props.isMatch?"bg-positive ":"bg-negative "])},{default:Fe(()=>[nt(ot(e.match.answers.find(p=>p.id===v.answer_id).answer_text),1)]),_:2},1032,["class"]),_e(it,{class:"text-left"},{default:Fe(()=>[Et("div",{innerHTML:v.explanation},null,8,pn)]),_:2},1024),_e(it,{class:"flex"},{default:Fe(()=>[(Ve(!0),qe(At,null,Mt(e.findMatchingTools(v.question_id,v.answer_id),(p,s)=>(Ve(),qe("div",{class:"flex q-ma-sm cursor-pointer",key:p.id},[s===0?(Ve(),qe("div",Cn,"Zie:")):zt("",!0),_e(y,{tool:p,onClick:C=>e.showTool(p.id)},null,8,["tool","onClick"])]))),128))]),_:2},1024)]),_:2},1024)]))),128))])):zt("",!0)}var Ln=Al(yn,[["render",kn]]);export{Ln as M,Bn as Q,hn as a,dn as b,zn as c,mn as u};
